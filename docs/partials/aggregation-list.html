  <div class="jumbotron">
      <div class="units-row">
        <div class="unit-70" style="border: 0px dotted orange; padding-bottom: 6px;">
         <h1>FE Skills Window</h1>
          <div id="search_main" class="spaced">
            <input type="search" ng-model="yourName" ng-change="updateResultsFromScratch()" 
              laceholder="search..." 
              class="width-100"
              /> 

          </div>
        </div>
      </div>  
  </div>
  <div class="intro" ng-show="!hasQuery()">
    <div class="units-row">
        <div class="unit-centered unit-80" id="filters">
          <div class="units-row">
            <div class="unit-50">
              <h1 class="welcome">Welcome to the FE Skills Window</h1>
              <p>The Jisc FE Skills Window is a Research and Development project, being managed by Jisc’s Digital Resources division.</p>
              <p>Our aim is to investigate and develop ways for practitioners across the FE and Skills sector to discover the wealth of freely available digital content available to them.</p>
            </div>
            <div class="unit-50">
              <img src="assets/img/digital-bookshelf.jpg" alt="Digital bookshelf" />
            </div>
          </div>
        </div>
    </div>

    <div class="units-row">
        <div class="unit-80 unit-centered section-services">
            <span class="label label-jisc-blue"><h2 class="blue-block-heading">Discover digital content from...</h2></span>
        </div>
    </div>
    <div class="units-row">
        <div class="unit-80 unit-centered logos">
          <div class="unit-row">
            <div class="unit-33">
              <img src="assets/img/jorum-300.png" alt="Jorum" />
            </div>
            <div class="unit-33">
              <img src="assets/img/ht-300.png" alt="Hairdressing Training" />
            </div>
            <div class="unit-33">
              <img src="assets/img/mediahub-300.png" alt="Mediahub" />
            </div>

          </div>
        </div>
    </div>
  </div>
 
  <div class="workhorse" ng-show="hasQuery()">
    <div class="units-row" ng-show="false">
        <div class="unit-centered unit-80" id="filters">
          <!-- code below needs moving to a directive -->
            <ul>
              <li ng-repeat="button in sources">
                <button
                  ng-click="toggleFilter(button)" 
                  class="btn btn-small btn-round btn-blue {{button.state}}" 
                  value="{{button.id}}">{{button.label}}</button>
              </li>
            </ul>

        </div>
    </div>

    <div class="card-layout units-row">
      <div class="unit-20 unit-push-right">
        <section class="facets">
          <header>Refine search</header>
            <ul class="refined"></ul>
            <section class="facet">
              <header class="toggle">Subject area<span class="number">234</span></header>
                <ul>
                  <li><input type="checkbox"><label>Agriculture</label></li>
                  <li><input type="checkbox"><label>Animal Care</label></li>
                  <li><input type="checkbox"><label>Beauty</label></li>
                  <li><input type="checkbox"><label>Business Management</label></li>
                  <li><input type="checkbox"><label>Catering</label></li>
                  <li><input type="checkbox"><label>Construction and Building</label></li>
                </ul>
            </section>
            <section class="facet">
              <header class="toggle">Level</header>
                <ul class="â€hiddenâ€">
                </ul>
              </section>
              <section class="facet">
                <header class="toggle">Resource Type</header>
                  <ul class="â€hiddenâ€">
                  </ul>
              </section>
          </section>
      </div>

      <div class="cards unit-80 units-split">
        <span ng-repeat="f in fields">
          <div class="card {{getSuperFormat(f._source.format[0], f._id)}}-file unit-25">
              <!--a href="http://130.88.120.131:8832/card-ui-layout/item-description.html"-->
              <a href="#/resources/{{f._id}}">
                <h1 class="{{getFormat(f._source.format[0])}}-file type">{{f._source.summary_title}}</h1>
              </a> 
              <p style="font-size:50pt;text-align:center" class="type"> <i class="fa {{getSuperFormat(f._source.format[0], f._id)}}"></i></p>
              <p class="type">{{getSuperFormat(f._source.format[0], f._id)}}</p>
          </div>
        </span>
      </div>

    </div>
    <!-- here we had paginator -->
    <!-- here we had the results.. -->
  </div>


    <!--- This is a Mustache.js template.  This is used with JSON data to generate the HTML strings that will comprise the user interface --->
    <script id="card-template" type="text/template">
        <div class="card {{type}}-file">
            
            {{#title}} <a href="{{link}}"><h1 class="{{type}}-file type">{{title}}</h1></a> {{/title}}
        {{#image}}
                <div class="text-centered">
        <img src="{{image}}" />
                    {{#banner}} <div class="banner"></div> {{/banner}} 
                    {{#caption}} <a href="{{link}}"><h2>{{caption}}</h2></a> {{/caption}}
                </div>
            {{/image}}
    <p  style="font-size:50pt;text-align:center" class="type">  <i class="fa {{type}}"></i></p>
    
    
      {{#type}}<p class="type">{{type}}{{/type}}
      
           
        </div>
    </script>
    
    <style>
    .type {
     text-transform:lowercase;
     text-transform:capitalize;
     font-size:10pt;
     text-align:center;
    }
    
  /*  .pdf,.doc,.xls,.zip {
     font-family:"FontAwesome"; 
    }
    */
    .pdf:before{content:"\f1c1";}
    .doc:before{content:"\f1c2";}
    .xls:before{content:"\f1c3";}
    .zip:before{content:"\f1c6";}
    .sound:before{content:"\f1c7";}
    .image:before{content:"\f1c5";}
    .video:before{content:"\f1c8";}
    .text:before{content:"\f0f6";}
    .code:before{content:"\f1c9";}
    
    .pdf-file .type > i:before {
    
    }
       
     .doc-file .type, a .docfile {
     background-color:rgba(0,146,203,0.50);
     color:#ffffff;
    }
    
      .zip-file .type {
     background-color:rgba(249,185,43,0.80);
     color:#ffffff;
    }
    
      .xls-file .type {
     background-color:rgba(106,150,42,0.80);
     color:#ffffff;
    }

     .sound-file .type {
     background-color:rgba(178,187,28,0.80);
     color:#ffffff;
    }
    .code-file .type {
     background-color:rgba(85,36,129,0.80);
     color:#ffffff;
    }
       
        .image-file .type {
     background-color:rgba(130,0,54,0.80);
     color:#ffffff;
    }
       
        .video-file .type {
     background-color:rgba(230,21,84,0.80);
     color:#ffffff;
    }
       
        .pdf-file .type {
     background-color:rgba(183,26,139,0.80);
     color:#ffffff;
    }
              

    </style>
    
    <script>
        var content, columns, compiledCardTemplate = undefined;
        var MIN_COL_WIDTH = 300;
        
        //data used to render the HTML templates
        var cards_data = [
     {   title:"Accessible Documents and Presentations",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"pdf"  },
        {   title:"Accessible Documents and Presentations",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"doc"  },
        {   title:"Hair tests for perming and neutralising",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"zip"  },{   title:"Effective Resources to Develop Literacy and Support Programme Requirements",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"image"  },{   title:"Integrate to create: Step 5 - The Concierge @ C.R.A.F.T. Checklist.",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"video"  },
        {   title:"Interactive Quiz - Automotive",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"video"  },{   title:"Diaphragm Ballvalve",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"sound"  },{   title:"Interactive Quiz - Automotive - Chocolate or Lollipop",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"text"  },{   title:"Annotated employability assessment for Secondary Ed. Teaching",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"code"  }, {   title:"Accessible Documents and Presentations",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"pdf"  },
        {   title:"Accessible Documents and Presentations",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"doc"  },
        {   title:"Hair tests for perming and neutralising",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"zip"  },{   title:"Effective Resources to Develop Literacy and Support Programme Requirements",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"image"  },{   title:"Integrate to create: Step 5 - The Concierge @ C.R.A.F.T. Checklist.",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"video"  },
        {   title:"Interactive Quiz - Automotive",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"video"  },{   title:"Diaphragm Ballvalve",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"sound"  },{   title:"Interactive Quiz - Automotive - Chocolate or Lollipop",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"text"  },{   title:"Annotated employability assessment for Secondary Ed. Teaching",
        link:"http://130.88.120.131:8832/card-ui-layout/item-description.html",
                type:"code"  }
        
        
        ];
          
        //page load initialization
        Zepto(function($){
            content = $(".cards");
            compiledCardTemplate = Mustache.compile( $("#card-template").html() );
            layoutColumns();
           $(window).resize(layoutColumns);
        })
            
        //resize event handler
       function onResize() {
            var targetColumns = Math.floor( $(document).width()/MIN_COL_WIDTH );
            if ( columns != targetColumns ) {
                layoutColumns();   
            }
        }
        
        //function to layout the columns
        function layoutColumns() {
            content.detach();
            content.empty();
            var columns_dom = [];
            var docwidth = $(document).width();
    
            columns = (docwidth<1000 && docwidth>700) ? 2 : 3;
      
      for ( var x = 0; x < columns; x++ ) {
      var col = $('<div>');
      
      if(docwidth < 1000 && docwidth > 700) {  col.addClass('unit-' + Math.floor(100/2)); }
      else {col.addClass('unit-' + Math.floor(100/3));}
        
        
            columns_dom.push(col);   
                content.append(col);
      }

            
            for ( var x = 0; x < cards_data.length; x++ ) {
                var html = compiledCardTemplate( cards_data[x] );
                var targetColumn = x % columns_dom.length;
      
                columns_dom[targetColumn].append( $(html) );  
          
            }
            $(".card-layout").append(content);
        }
    </script>
    
<style>

body,h1,a,p {
 font-family:'Helvetica Neue', Helvetica, Tahoma, sans-serif; 
}
.card-layout {
 background-color:#F8F8F8; 
}
.card {
    background:#FDFDFD;
    
    padding:0px;
    margin:15px 40px 40px 40px;
    overflow:hidden;
-webkit-box-shadow: 17px 16px 24px -11px rgba(199,197,199,1);
-moz-box-shadow: 17px 16px 24px -11px rgba(199,197,199,1);
box-shadow: 17px 16px 24px -11px rgba(199,197,199,1);
}

.card h1 {
  margin:0px;
  padding:10px;
  padding-bottom:0px;
  color:#464646;

  font-size:12pt;
  font-weight:normal;
}

.card a { 
text-decoration:none;
color:#ffffff;
}

.card p {
    margin:0px;
    padding:10px;
}

</style>
    